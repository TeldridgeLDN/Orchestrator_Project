{
  "skill_id": "pe-compression-analysis",
  "name": "P/E Compression Analysis Skill",
  "version": "0.1.0",
  "description": "Advanced P/E compression detection and analysis skill with multi-mode operation, keyword detection, and Workflow 9 integration",
  "author": "Momentum Squared",
  "created": "2025-11-13",
  "category": "financial-analysis",
  "tags": [
    "valuation",
    "pe-ratio",
    "compression",
    "financial-analysis",
    "workflow-automation"
  ],
  "interface": {
    "version": "1.0.0",
    "type": "analysis",
    "workflow_integration": "workflow9-executor"
  },
  "capabilities": {
    "keyword_detection": {
      "enabled": true,
      "accuracy": "100%",
      "performance": "<0.01s",
      "methods": ["spacy", "regex"],
      "patterns": [
        "p/e compression",
        "pe compression",
        "comparative pe",
        "valuation"
      ]
    },
    "operational_modes": {
      "basic": {
        "description": "Static industry data analysis",
        "requirements": [],
        "capabilities": ["industry_comparison", "compression_detection"]
      },
      "full": {
        "description": "Live data with Perplexity API",
        "requirements": ["PERPLEXITY_API_KEY"],
        "capabilities": ["live_data", "peer_comparison", "enhanced_analysis"]
      },
      "offline": {
        "description": "Cached data analysis",
        "requirements": ["local_cache"],
        "capabilities": ["cached_data", "offline_operation"]
      }
    },
    "mode_selection": {
      "automatic": true,
      "performance": "<0.1s",
      "based_on": ["api_key_availability", "cache_availability", "user_preference"]
    },
    "output_formats": {
      "json": true,
      "markdown": true,
      "decision_framework": true
    }
  },
  "dependencies": {
    "python": ">=3.8",
    "packages": {
      "spacy": "~=3.7",
      "pandas": "~=2.2",
      "pytest": "~=7.x",
      "pytest-cov": "~=7.0"
    },
    "external_skills": {
      "workflow9-executor": {
        "version": ">=1.0.0",
        "required": false,
        "purpose": "Workflow automation integration"
      }
    }
  },
  "configuration": {
    "environment_variables": {
      "PERPLEXITY_API_KEY": {
        "required": false,
        "description": "API key for Perplexity AI (enables Full mode)"
      }
    },
    "settings": {
      "default_mode": "auto",
      "prefer_offline": false,
      "strict_validation": true,
      "cache_directory": ".cache/pe-compression"
    }
  },
  "structure": {
    "src": {
      "core": ["analyzer.py"],
      "nlp": ["detector.py"],
      "modes": ["basic_mode.py", "full_mode.py", "offline_mode.py", "mode_selector.py"],
      "integration": ["workflow9_connector.py"],
      "utils": ["env_utils.py", "markdown_renderer.py", "config.py"]
    },
    "tests": [
      "test_imports.py",
      "test_keyword_detector.py",
      "test_modes.py",
      "test_mode_selector.py",
      "test_markdown_renderer.py",
      "test_workflow9_connector.py"
    ],
    "docs": ["README.md", "API.md"],
    "config": ["requirements.txt", "setup.py", "pytest.ini", ".gitignore"]
  },
  "testing": {
    "framework": "pytest",
    "coverage_target": ">=85%",
    "test_count": 140,
    "pass_rate": "100%",
    "performance_targets": {
      "keyword_detection": "<0.01s",
      "mode_selection": "<0.1s",
      "full_analysis": "<2s"
    }
  },
  "workflow_integration": {
    "interface_version": "1.0.0",
    "input_contract": {
      "required_fields": ["mode"],
      "optional_fields": [
        "symbol",
        "compression_detected",
        "compression_percentage",
        "current_pe",
        "historical_pe",
        "industry_average",
        "analysis",
        "recommendations"
      ]
    },
    "output_contract": {
      "sections": [
        "metadata",
        "analysis",
        "decision_framework",
        "workflow_actions",
        "outputs"
      ]
    },
    "workflow_actions": [
      {
        "type": "alert",
        "priority": "high",
        "description": "Compression detection alerts"
      },
      {
        "type": "research",
        "priority": "high",
        "description": "Research task generation"
      },
      {
        "type": "comparison",
        "priority": "medium",
        "description": "Peer comparison requests"
      },
      {
        "type": "monitor",
        "priority": "low",
        "description": "Standard monitoring tasks"
      }
    ]
  },
  "usage": {
    "installation": "pip install -e .",
    "basic_usage": "from src.core.analyzer import PECompressionAnalyzer",
    "workflow_integration": "from src.integration.workflow9_connector import Workflow9Connector"
  },
  "documentation": {
    "readme": "README.md",
    "api_reference": "docs/API.md",
    "examples": "examples/",
    "changelog": "CHANGELOG.md"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/momentum-squared/pe-compression-analysis"
  }
}

